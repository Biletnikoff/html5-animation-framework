<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>HAF &bull; HTML5 Animation Framework &bull; Benchmark</title>
		<script src="js/oz.js"></script>
		<script src="js/haf.js"></script>
		<script src="js/zombie.js"></script>
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<input type="button" onclick="toggle()" value="toggle" />
		<select id="actors">
			<option value="5">5 actors</option>
			<option value="10">10 actors</option>
			<option value="20">20 actors</option>
			<option value="50">50 actors</option>
			<option value="500">500 actors</option>
		</select>
		<select id="mode">
			<option value="0">Direct</option>
			<option value="1">Offscreen</option>
			<option value="2">Doublebuffer</option>
		</select>
		<script>
		if (!window.console) { window.console = {log:function(x) {alert(x);}}; }
		var size = [800, 600];
		var sprite = [64, 64];
		
		var engine = new HAF.Engine(size);
		document.body.appendChild(engine.getContainer());

		var fps = new HAF.FPS(engine);
		document.body.appendChild(fps.getContainer());
		
		var monitor = new HAF.Monitor(engine, [500, 100]);
		document.body.appendChild(monitor.getContainer());

		engine.addCanvas(1);

		var toggle = function() {
			if (engine.isRunning()) {
				engine.stop();
			} else {
				engine.removeActors(1);
				var actors = parseInt(OZ.$("actors").value);
				var availW = size[0] - sprite[0];
				var availH = size[1] - sprite[1];
				for (var i=0;i<actors;i++) {
					var actor = new MovingZombie(size);
					engine.addActor(actor, 1);
				}
				engine.setMode(parseInt(OZ.$("mode").value));
				engine.start();
			}
		}
		
		toggle();
		
		</script>
	</body>
</html>
